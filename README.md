![save](https://github.com/Wanted-Pre-Onboarding-Team-E/social-media-integration-feed/assets/68440583/4f74e658-1226-4caa-82c2-80885ed1b49d)

# :heart: FeedMoa

## :hash: 프로젝트 소개

`해시태그`를 기반으로 인스타그램, 페이스북, 트위터, 스레드 등 복수의 `SNS`에 게시된 `게시물`을 하나의 서비스에서 확인할 수 있는 통합 `Feed` 서비스입니다.

<br>

## 🛠️ 기술 스택

<img src="https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=node.js&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Nest.js-E0234E?style=for-the-badge&logo=nestjs&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/TypeORM-FCAD03?style=for-the-badge&logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDI1NiAyMzMiPjxwYXRoIGZpbGw9IiMzMzMiIGQ9Ik0xMzkgMzJhNiA2IDAgMCAxIDUgNnY2NWE2IDYgMCAwIDEtNSA1SDg2YTYgNiAwIDAgMS02LTVWMzhhNiA2IDAgMCAxIDYtNmg1M1ptMCAzSDg2YTMgMyAwIDAgMC0zIDN2NjVhMyAzIDAgMCAwIDMgM2g1M2EzIDMgMCAwIDAgMy0zVjM4YTMgMyAwIDAgMC0zLTNaTTkzIDkzdjNoLTN2LTNoM1ptNDIgMHYzSDk1di0zaDQwWk05MyA3NnY0aC0zdi00aDNabTQyIDB2NEg5NXYtNGg0MFpNOTMgNjF2M2gtM3YtM2gzWm00MiAwdjNIOTV2LTNoNDBabTAtMTV2NEg5MHYtNGg0NVptNCA3NmE2IDYgMCAwIDEgNSA1djY1YTYgNiAwIDAgMS01IDZIODZhNiA2IDAgMCAxLTYtNnYtNjVhNiA2IDAgMCAxIDYtNWg1M1ptMCAySDg2YTMgMyAwIDAgMC0zIDN2NjVhMyAzIDAgMCAwIDMgM2g1M2EzIDMgMCAwIDAgMy0zdi02NWEzIDMgMCAwIDAtMy0zWm0tNDYgNTh2NGgtM3YtNGgzWm00MiAwdjRIOTV2LTRoNDBabS00Mi0xNnYzaC0zdi0zaDNabTQyIDB2M0g5NXYtM2g0MFptLTQyLTE2djRoLTN2LTRoM1ptNDIgMHY0SDk1di00aDQwWm0wLTE1djRIOTB2LTRoNDVabTE5LTY1djNoMTl2ODZoLTE5djNoMjJWNzBoLTN6TTE5IDE1QzIzIDkgMjkgNSAzNSAzaDJsMS0xaDNsMS0xaDZsMS0xaDd2MTVjLTEzLTEtMTkgMy0yMiA3djFhMTMgMTMgMCAwIDAtMSAydjFoLTF2NjdsLTEgMXY5aC0xdjJjLTIgNS02IDktMTYgMTEgOSAyIDE0IDYgMTYgMTF2MmwxIDF2OGwxIDJ2NjZoMXYyYzIgNSA4IDEwIDIyIDloMXYxNUg0NmwtMS0xaC0yYTU5IDU5IDAgMCAxLTEgMCA1NiA1NiAwIDAgMS0xIDBoLTF2LTFoLTJjLTgtMi0xNS02LTIwLTE0YTMxIDMxIDAgMCAxIDE0LTI0bC0xIDFjLTggNS0xMiAxMy0xMyAyM2EyNyAyNyAwIDAgMS0yLTEydi05bC0xLTZ2LTIybC0xLTEwdi0xN2MwLTgtMy0xMi03LTEzdi0xSDZhOSA5IDAgMCAwLTEgMHYtMUgxYTMzIDMzIDAgMCAwLTEgMHYtMThoNmMzLTIgOC01IDgtMTRWODBsMS0xMVY0MmwxLTZ2LThjMC01IDEtMTAgMy0xM1ptMTgxIDBWMGgxMHYxaDVsMSAxaDNjOCAzIDE1IDcgMTkgMTVhMjcgMjcgMCAwIDEgMiAxMXY5bDEgM3YyNmwxIDl2MTdjMCA4IDQgMTIgNyAxNGgydjFoNXYxOGEyNSAyNSAwIDAgMC0yIDBoLTNsLTEgMWMtNCAxLTggNS04IDEzdjEzbC0xIDExdjI3bC0xIDd2N2EyOCAyOCAwIDAgMS0xIDl2MWMtNCA5LTEzIDE0LTIyIDE2aC0xbC0xIDFoLTZ2MWgtOXYtMTVjMTQgMSAyMC0zIDIyLThoMXYtM2gxdi02N2wxLTF2LThsMS0yIDEtMmMyLTUgNy04IDE1LTEwLTExLTItMTUtNy0xNi0xM2wtMS0xdi04bC0xLTJWMzlhMjcgMjcgMCAwIDAgMTEtMTNoMWEyOCAyOCAwIDAgMS0xMiAxM1YyN2ExNSAxNSAwIDAgMCAwLTEgMTUgMTUgMCAwIDAtMSAwdi0yYy0yLTUtOC0xMC0yMi05aC0xWiIvPjwvc3ZnPg==">  
<img src="https://img.shields.io/badge/MySQL-00758F?style=for-the-badge&logo=mysql&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/jwt-000000?style=for-the-badge&logo=json-web-tokens&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/Jest-C21325?style=for-the-badge&logo=jest&logoColor=white">

<br>

## 🏷️ 목차

1. [:gear: 환경 설정 및 실행](#gear-환경-설정-및-실행)
2. [:cd: 데이터베이스 모델링](#cd-데이터베이스-모델링)
3. [:earth_asia: API 명세](#earth_asia-API-명세)
4. [:bookmark_tabs: 구현 내용](#bookmark_tabs-구현-내용)
5. [:wave: 팀원 소개](#wave-팀원-소개)

<br>

## :gear: 환경 설정 및 실행

데이터베이스 스키마를 생성합니다.

```sql
CREATE DATABASE `wanted`
    DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

서버 및 데이터베이스 연결을 위한 환경 변수를 설정합니다.

```dotenv
PORT=
DB_PORT=
DB_USERNAME=
DB_PASSWORD=
DB_DATABASE=
JWT_SECRET=
GATEWAY_DOMAIN=
```

데이터베이스 스키마 생성 후, 스크립트 파일 실행으로 초기 설정합니다.

```bash
> sh start.sh # 리눅스 스크립트 파일 실행
> ./start.bat # 윈도우 스크립트 파일 실행
```

<br>

## :cd: 데이터베이스 모델링

- 게시물 ↔️ 해시태그 `1:N`
    - 사용자는 `게시물`을 소유하지 않는다.
    - 게시물은 `0개` 이상의 `해시태그`를 가진다.
    - 하나의 `게시물`이 여러 개의 `해시태그`를 등록할 수 있습니다.
      ![ERD](https://hackmd.io/_uploads/r1phpypMT.png)

## :earth_asia: API 명세

> [`GitHub Wiki`로 이동! 🏃🏻‍💨](https://github.com/Wanted-Pre-Onboarding-Team-E/social-media-integration-feed/wiki/REST-API)

<br>

## :bookmark_tabs: 구현 내용

#### 사용자

##### 사용자 회원 가입

- 사용자 정보에 대한 입력값의 유효성을 검사한다.
    - `계정명 중복 여부` 확인
    - `이메일 구조`를 가지고 있는지 확인
    - `비밀번호`
        - 10자 이상 문자열
        - 숫자, 문자, 특수문자 중 두 개 이상 사용
        - 연속된 문자 3번 이상 사용 금지
- 생성된 사용자에 대한 인증 코드를 `DB`에 저장한다.

##### 사용자 가입승인

- `회원가입` 후 이메일에서 발급받은 `인증코드`로 가입 승인한다.
    - 이메일 발송 과정은 생략

##### 사용자 로그인

- `가입 승인된 사용자`만 `로그인` 할 수 있다.
- `계정명`과 `비밀번호`로 로그인한다.
- 로그인 후 `모든 API 요청`에 대해 `JWT 유효성`을 검증한다.

#### 게시물

##### 게시물 목록 조회

- `해시태그`로 `게시물 목록`을 `조회`한다.
- 정렬, 검색, 페이지네이션, `SNS`별 필터링이 적용된다.

##### 게시물 상세 조회

- `특정 게시물`에 대한 모든 필드를 `조회`한다.
- 요청 성공 시 횟수 제한 없이 조회수가 `+1` 증가한다.

##### 게시물 좋아요

- 요청 성공 시 횟수 제한 없이 `좋아요` 횟수가 `+1` 증가한다.
- 게시물의 `SNS 종류`에 따라 `좋아요` 기능에 대한 외부 `API`(가상의 `URL`)를 호출한다.

| Type      | Method | Endpoint                                       |
|-----------|--------|------------------------------------------------|
| facebook  | POST   | `https://www.facebook.com/likes/<content_id>`  |
| twitter   | POST   | `https://www.twitter.com/likes/<content_id>`   |
| instagram | POST   | `https://www.instagram.com/likes/<content_id>` |
| threads   | POST   | `https://www.threads.net/likes/<content_id>`   |

#### 게시물 공유하기

- 요청 성공 시 횟수 제한 없이 `공유` 횟수가 `+1` 증가한다.
- 게시물의 `SNS 종류`에 따라 `공유` 기능에 대한 외부 `API`(가상의 `URL`)를 호출한다.

| Type | Method    | Endpoint                                       |
|------|-----------|------------------------------------------------|
| POST | facebook  | `https://www.facebook.com/share/<content_id>`  |
| POST | twitter   | `https://www.twitter.com/share/<content_id>`   |
| POST | instagram | `https://www.instagram.com/share/<content_id>` |
| POST | threads   | `https://www.threads.net/share/<content_id>`   |

#### 게시물 통계

- 사용자의 `계정명` 또는 `특정 해시태그별`, `일자별`, `시간별`로 `통계`를 `조회`한다.
- 통계 항목 : 게시물 개수, 조회수, 좋아요 개수, 공유 횟수

<br>

## :wave: 팀원 소개

|                                강희수                                |                                박동훈                                |                                신은수                                |                               이드보라                                |                                이승원                                |
|:-----------------------------------------------------------------:|:-----------------------------------------------------------------:|:-----------------------------------------------------------------:|:-----------------------------------------------------------------:|:-----------------------------------------------------------------:|
| <img src="https://hackmd.io/_uploads/H1Honf0fp.jpg" width="100"/> | <img src="https://hackmd.io/_uploads/B12ir7pGp.png" width="100"/> | <img src="https://hackmd.io/_uploads/HyZ86pjzp.png" width="100"/> | <img src="https://hackmd.io/_uploads/ByC5xOhz6.jpg" width="100"/> | <img src="https://hackmd.io/_uploads/B19HTJ6zp.jpg" width="100"/> |
|              [@kangssu](https://github.com/kangssu)               |            [@laetipark](https://github.com/laetipark)             |              [@dawwson](https://github.com/dawwson)               |             [@sayapin1](https://github.com/sayapin1)              |             [@tomeee11](https://github.com/tomeee11)              |

#### 역할

- **강희수**
    - **스켈레톤 프로젝트 생성**
        - `프로젝트 구조 생성` 및 프레임워크 & 라이브러리 설치
    - **게시물 상세 조회**
        - 하나의 게시물에 대한 상세 정보 및 관련 해시태그 조회
    - **게시물 공유하기**
        - NestJS에서 제공하는 HttpModule, ConfigModule, CustomPipe 사용
            - HttpModule로 외부 호출 사용
            - CustomPipe로 Enum Type의 특정 값에 대한 유효성 검증
            - 로컬에서는 외부 호출을 통과시키기 위해 ConfigModule로 로컬/데브 환경변수 구분
- **박동훈**
    - **Database Migration**
        - `스크립트 파일`을 통한 데이터베이스 `Table` 및 `Seed` 데이터 생성
    - **사용자 회원가입 API 개발**
        - 사용자 정보(`아이디`, `이메일`, `비밀번호`)에 대한 유효성 검사
        - 가입 승인 절차를 위한 `인증코드` 발급
    - **사용자 회원가입 API 개발**
        - 사용자 정보(`아이디`, `이메일`, `비밀번호`)에 대한 유효성 검사
        - 가입 승인 절차를 위한 `인증코드` 발급
- **신은수**
    - **가입 승인 API 개발**
        - `DB`에 저장된 인증 코드 검사
    - **사용자 로그인 API 개발**
        - `Cookie` + `JWT` 기반 사용자 인증
- **이드보라**
    - **통계 API 개발**
        - 해시태그/일자/시간별 `게시물 개수`, `조회수`, `좋아요 개수`, `공유 횟수`의 `통계` 결과 조회
- **이승원**
    - **게시물 목록 조회**
        - 전체 `게시물 목록` 및 관련 `해시태그` 조회
    - **게시물 좋아요**
        - NestJS에서 제공하는 HttpModule 사용
